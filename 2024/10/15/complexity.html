<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Practical approach to software complexity | Bartek Wilczek: the defensive midfielder of web development</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Practical approach to software complexity" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A few thoughs about software complexity and why should it matter to the business people." />
<meta property="og:description" content="A few thoughs about software complexity and why should it matter to the business people." />
<link rel="canonical" href="https://bwilczek.github.io/blog/2024/10/15/complexity.html" />
<meta property="og:url" content="https://bwilczek.github.io/blog/2024/10/15/complexity.html" />
<meta property="og:site_name" content="Bartek Wilczek: the defensive midfielder of web development" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-10-15T07:05:15+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Practical approach to software complexity" />
<script type="application/ld+json">
{"description":"A few thoughs about software complexity and why should it matter to the business people.","url":"https://bwilczek.github.io/blog/2024/10/15/complexity.html","@type":"BlogPosting","headline":"Practical approach to software complexity","dateModified":"2024-10-15T07:05:15+00:00","datePublished":"2024-10-15T07:05:15+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://bwilczek.github.io/blog/2024/10/15/complexity.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/blog/assets/main.css">
  <link rel="stylesheet" href="/blog/assets/css/blog.css">
  <link rel="stylesheet" href="/blog/assets/css/premonition.css">
  <link rel="stylesheet" href="/blog/assets/css/slick.css">
  <link rel="stylesheet" href="/blog/assets/css/slick-theme.css"><link type="application/atom+xml" rel="alternate" href="https://bwilczek.github.io/blog/feed.xml" title="Bartek Wilczek: the defensive midfielder of web development" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/blog/">Bartek Wilczek: the defensive midfielder of web development</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/blog/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Practical approach to software complexity</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2024-10-15T07:05:15+00:00" itemprop="datePublished">Oct 15, 2024
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>As software engineers we intuitively know what is software complexity and what impact it makes on the long term maintainability. (In case you didn’t know: the smaller the complexity the easier the code is to maintain).</p>

<p>In long living projects complexity tends to grow over time, and that’s normal. It can be reduced (by certain amount) by refactoring, tooling upgrade
or other kinds of redesign.
Our (engineers’) problem is that such initiatives do not bring immediate business value to the stakeholders.
Therefore it could be hard to convince them that they should invest team’s effort into such projects.</p>

<p>In this post I’d like to provide stakeholder-friendly definition of complexity and also explain why keeping it under control is good not only for engineers’ happiness, but also for business’s sustainability.</p>

<h1 id="what-is-complexity">What is complexity?</h1>

<p>Let’s use the image below to explain what complexity is.</p>

<p><img src="/blog/assets/complexity.png" alt="Complexity as wiring" /></p>

<p>Complexity is a metric describing how difficult to change the software is.</p>

<p>It consists of two components:</p>
<ul>
  <li><strong>essential complexity</strong> - originates from the business rules. The very core of the system. Cannot be reduced without sacrificing the functionality.</li>
  <li><strong>accidental complexity</strong> - originates from the implementation. Brings no business value.</li>
</ul>

<p>The smaller accidental complexity overhead the better.</p>

<p>Now let’s go back to the picture above.</p>

<p>Think of the clean wiring as the essential complexity with very little accidental complexity added.
The system is not simple, because the domain is not simple.
It looks easy to comprehend and change though, as the non-domain overhead is minimal.</p>

<p>Now think of the messy wiring as the essential complexity with a lot of accidental complexity on top of it.
It does the same functionality as the first one, but is much harder to comprehend and change.</p>

<p>Whenever engineers say that certain initiative will reduce the complexity they mean removing the obsolete wires and simplifying the layout of the essential ones.</p>

<h1 id="where-does-the-accidental-complexity-come-from">Where does the accidental complexity come from?</h1>

<p>Accidental complexity can be added to the software in two ways:</p>
<ul>
  <li><strong>unintentionally</strong>, when the engineering team does not have the experience with the
technical solutions required to complete certain task. This happens despite the best
efforts and good will displayed by the team. It can be mitigated by involving people with
more experience early in the solution design. Reaching out to architects should be a
good starting point.</li>
  <li><strong>intentionally</strong>, when certain shortcuts are being made in order to achieve a short term
goal. Can be mitigated by being more flexible with deadlines. When in doubt refer to the
messy wiring picture and ask yourself whether adding a random, loose wire that can
make one project go live a bit earlier is beneficial for other projects in the long run.
Spoiler alert: it is not :)</li>
</ul>

<h1 id="how-to-measure-the-complexity">How to measure the complexity?</h1>

<p>This usually depends on the programming language used in the project. Different languages and different tools use different formulas,
but as long we we select one of them and stick to it we can track how the complexity changes over time.</p>

<p>Taking actual measurements is pretty easy and usually limited to execution of a single command. In <code class="language-plaintext highlighter-rouge">ruby</code> universe that would be <a href="https://github.com/seattlerb/flog">flog</a>.</p>

<p>Pseudocode for the calculation of an impact made on complexity by a given commit ABC could look like this:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># checkout commit prior to commit in question</span>
git checkout ABC^

<span class="c"># compute complexity for that commit</span>
complexity_before <span class="o">=</span> <span class="sb">`</span>parse output from flog<span class="sb">`</span>

<span class="c"># checkout the commit in question</span>
git checkout ABC

<span class="c"># compute complexity for it</span>
complexity_after <span class="o">=</span> <span class="sb">`</span>parse output from flog<span class="sb">`</span>

<span class="c"># calculate the impact</span>
print <span class="s2">"Commit ABC has changed overall complexity by #{complexity_after - complexity_before}"</span>
</code></pre></div></div>

<p>To assess the impact made by the whole project simply run this formula for every commit associated with the project.</p>

<h1 id="why-we-should-measure-it">Why we should measure it?</h1>

<p>Because <em>you cannot manage what you cannot measure</em>. Prior to giving green light to a potential refactoring project
(with no direct business value associated) stakeholders would need a metric that could be used to assess the project impact.
They will not be willing to invest resources into vague promises that <em>this project will make the code better</em>.
However after they have been familiarized with the notion that high complexity is bad for long-term maintainability they could be more eager
on investing into a project that will e.g. <em>reduce the complexity by 3%</em>.</p>

<p>After the project is approved and completed it is worth to assess the long term impact it made on other, more common metrics:</p>

<ul>
  <li><strong>Team velocity/capacity</strong> - it should increase as changing less complex code is easier, giving more time to implement new features.</li>
  <li><strong>Infrastructure cost</strong> - it should decrease as less complex code requires less resources to run on production and CI environments.</li>
  <li><strong>Engineering team satisfaction</strong> - it should increase for two reasons:
    <ul>
      <li>engineers love making code better and letting them work on a refactoring project makes them happy</li>
      <li>engineers hate working with hacky, overcomplicated code. Making the code more elegant heals that pain</li>
    </ul>
  </li>
</ul>

<h1 id="summary">Summary</h1>

<p>Whenever technical projects (refactoring, tooling upgrades) face resistance from the stakeholders
the metaphor of reducing complexity could convince them to reassess the priorities.
It’s like reducing the <em>fixed costs</em>, or other <em>liabilities</em>: frees up the <em>resources</em> to be allocated on actual development.
It’s measurable, traceable, and easy to introduce to the development process.</p>

  </div><a class="u-url" href="/blog/2024/10/15/complexity.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blog/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Bartek Wilczek: the defensive midfielder of web development</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Bartek Wilczek: the defensive midfielder of web development</li><li><a class="u-email" href="mailto:bwilczek@gmail.com">bwilczek@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/bwilczek"><svg class="svg-icon"><use xlink:href="/blog/assets/minima-social-icons.svg#github"></use></svg> <span class="username">bwilczek</span></a></li><li><a href="https://www.twitter.com/bwilczek_eu"><svg class="svg-icon"><use xlink:href="/blog/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">bwilczek_eu</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Some bits of code, Wrocław, travelling and other hobbies.</p>
      </div>
    </div>

  </div>
</footer>
<link rel="stylesheet" href="">
<script type="text/javascript" src="/blog/assets/js/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="/blog/assets/js/slick.min.js"></script>
<script type="text/javascript" src="/blog/assets/js/blog.js"></script>
</body>

</html>
